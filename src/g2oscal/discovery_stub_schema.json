{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://example.com/oscal/bsi-discovery-stub.schema.json",
    "title": "BSI Discovery Stub Schema",
    "description": "Defines the structure for the initial discovery phase, which extracts contextual parts and a list of requirements with their original prose.",
    "type": "object",
    "required": [ "main_group_id", "baustein_id", "baustein_title", "contextual_parts", "requirements_list" ],
    "properties": {
      "main_group_id": { "type": "string" },
      "baustein_id": { "type": "string" },
      "baustein_title": { "type": "string" },
      "contextual_parts": {
        "type": "array",
        "items": {
          "type": "object",
          "required": ["name", "title", "prose"],
          "properties": {
            "name": { "type": "string" },
            "title": { "type": "string" },
            "prose": { "type": "string" }
          },
          "additionalProperties": false
        }
      },
      "requirements_list": {
        "type": "array",
        "items": {
          "type": "object",
          "required": ["id", "title", "prose", "props"],
          "properties": {
            "id": { "type": "string" },
            "title": { "type": "string" },
            "prose": { "type": "string" },
            "props": {
              "type": "object",
              "required": ["level", "phase"],
              "properties": { "level": { "type": "string" }, "phase": { "type": "string" } },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        }
      }
    },
    "additionalProperties": false
  }